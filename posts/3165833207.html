<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>【语法】python魔法函数+代码演示 | Haibei的博客</title><meta name="description" content="【语法】python魔法函数+代码演示"><meta name="keywords" content="python,魔法函数"><meta name="author" content="Haibei"><meta name="copyright" content="Haibei"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/hezhefly/CDN/config/favicon.ico"><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="https://hezhefly.gitee.io/blog/posts/3165833207"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="【语法】python魔法函数+代码演示"><meta name="twitter:description" content="【语法】python魔法函数+代码演示"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191026231051.png"><meta property="og:type" content="article"><meta property="og:title" content="【语法】python魔法函数+代码演示"><meta property="og:url" content="https://hezhefly.gitee.io/blog/posts/3165833207"><meta property="og:site_name" content="Haibei的博客"><meta property="og:description" content="【语法】python魔法函数+代码演示"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191026231051.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="【配置】pip更换国内源的方法" href="https://hezhefly.gitee.io/blog/posts/277300404.html"><link rel="next" title="【得到】《原生家庭》| 苏珊·福沃德" href="https://hezhefly.gitee.io/blog/posts/2221080880.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG={root:"/blog/",algolia:{appId:"Z7A3XW4R2I",apiKey:"12db1ad54372045549ef465881c17e743",indexName:"haibei",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容:${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,cookieDomain:"https://xxx/",msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},highlight_copy:"true",highlight_lang:"true",highlight_shrink:"false",copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},bookmark:{title:"添加书签",message_prev:"按",message_next:"键将本页加入书签"},runtime_unit:"天",copyright:void 0,copy_copyright_js:!1}</script></head><body><div id="header"><div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/blog/">Haibei的博客</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-dove" aria-hidden="true"></i><span> 得到</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/得到/每天听本书"><i class="fa-fw fas fa-atlas"></i><span> 每天听本书</span></a></li><li><a class="site-page" href="/categories/得到/批判性思维"><i class="fa-fw far fa-lightbulb"></i><span> 批判性思维</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><script>document.body.addEventListener("touchstart",function(){})</script></div></span><span class="pull-right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/blog/img/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"'></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length_num">62</div></a></div></div><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length_num">44</div></a></div></div><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/blog/categories∏/"><div class="headline">分类</div><div class="length_num">23</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-dove" aria-hidden="true"></i><span> 得到</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/得到/每天听本书"><i class="fa-fw fas fa-atlas"></i><span> 每天听本书</span></a></li><li><a class="site-page" href="/categories/得到/批判性思维"><i class="fa-fw far fa-lightbulb"></i><span> 批判性思维</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><script>document.body.addEventListener("touchstart",function(){})</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#〇-魔术方法定义"><span class="toc_mobile_items-text">〇、魔术方法定义</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#一-总述"><span class="toc_mobile_items-text">一、总述</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-class类的老大哥-__new__"><span class="toc_mobile_items-text">1、class类的老大哥 __new__</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-实例销毁-__del__"><span class="toc_mobile_items-text">2、实例销毁： __del__</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-类语法糖-__call__"><span class="toc_mobile_items-text">3、类语法糖： __call__</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#31-演示代码"><span class="toc_mobile_items-text">3.1、演示代码</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#二-调用系统方法"><span class="toc_mobile_items-text">二、调用系统方法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-__repr__-和-__str__-的区别"><span class="toc_mobile_items-text">1、 __repr__ 和 __str__ 的区别</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-参考代码"><span class="toc_mobile_items-text">2、参考代码</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#21-什么是交互环境"><span class="toc_mobile_items-text">2.1、什么是交互环境</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#22-在交互环境中-__repr__-和-__str__"><span class="toc_mobile_items-text">2.2、在交互环境中 __repr__ 和 __str__</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#三-有关属性"><span class="toc_mobile_items-text">三、有关属性</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-__getattr__-和-__setattr__-存在的问题"><span class="toc_mobile_items-text">1、 __getattr__ 和 __setattr__ 存在的问题</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-演示代码"><span class="toc_mobile_items-text">2、演示代码</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#四-比较操作符"><span class="toc_mobile_items-text">四、比较操作符</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#五-算数运算符"><span class="toc_mobile_items-text">五、算数运算符</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-标准运算符"><span class="toc_mobile_items-text">1、标准运算符</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-反运算"><span class="toc_mobile_items-text">2、反运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-增量赋值运算"><span class="toc_mobile_items-text">3、增量赋值运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-代码实例"><span class="toc_mobile_items-text">4、代码实例</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#41-3种运算符的区别"><span class="toc_mobile_items-text">4.1、3种运算符的区别</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#42-伪造list类使其具备运算符功能"><span class="toc_mobile_items-text">4.2、伪造list类，使其具备运算符功能</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#六-一元操作符"><span class="toc_mobile_items-text">六、一元操作符</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-示例代码"><span class="toc_mobile_items-text">1、示例代码</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#七-类型转换"><span class="toc_mobile_items-text">七、类型转换</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#八-上下文管理with-语句"><span class="toc_mobile_items-text">八、上下文管理（with 语句）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#九-容器类型"><span class="toc_mobile_items-text">九、容器类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-示例代码-2"><span class="toc_mobile_items-text">1、 示例代码</span></a></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#〇-魔术方法定义"><span class="toc-text">〇、魔术方法定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一-总述"><span class="toc-text">一、总述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-class类的老大哥-__new__"><span class="toc-text">1、class类的老大哥 __new__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-实例销毁-__del__"><span class="toc-text">2、实例销毁： __del__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-类语法糖-__call__"><span class="toc-text">3、类语法糖： __call__</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#31-演示代码"><span class="toc-text">3.1、演示代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-调用系统方法"><span class="toc-text">二、调用系统方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-__repr__-和-__str__-的区别"><span class="toc-text">1、 __repr__ 和 __str__ 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-参考代码"><span class="toc-text">2、参考代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#21-什么是交互环境"><span class="toc-text">2.1、什么是交互环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#22-在交互环境中-__repr__-和-__str__"><span class="toc-text">2.2、在交互环境中 __repr__ 和 __str__</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-有关属性"><span class="toc-text">三、有关属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-__getattr__-和-__setattr__-存在的问题"><span class="toc-text">1、 __getattr__ 和 __setattr__ 存在的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-演示代码"><span class="toc-text">2、演示代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四-比较操作符"><span class="toc-text">四、比较操作符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五-算数运算符"><span class="toc-text">五、算数运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-标准运算符"><span class="toc-text">1、标准运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-反运算"><span class="toc-text">2、反运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-增量赋值运算"><span class="toc-text">3、增量赋值运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-代码实例"><span class="toc-text">4、代码实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#41-3种运算符的区别"><span class="toc-text">4.1、3种运算符的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#42-伪造list类使其具备运算符功能"><span class="toc-text">4.2、伪造list类，使其具备运算符功能</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六-一元操作符"><span class="toc-text">六、一元操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-示例代码"><span class="toc-text">1、示例代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七-类型转换"><span class="toc-text">七、类型转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八-上下文管理with-语句"><span class="toc-text">八、上下文管理（with 语句）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九-容器类型"><span class="toc-text">九、容器类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-示例代码-2"><span class="toc-text">1、 示例代码</span></a></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image:url(https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191026231051.png)"><div id="post-info"><div id="post-title"><div class="posttitle">【语法】python魔法函数+代码演示</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-10-26<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-10-30</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories∏/python/">python</a></span><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner"><article id="post"><div class="article-container" id="post-content"><blockquote><p>欢迎访问的个人博客，博客地址为 <a href="https://haibei.online/" target="_blank" rel="noopener">https://haibei.online/</a></p></blockquote><h2 id="〇-魔术方法定义"><a class="markdownIt-Anchor" href="#〇-魔术方法定义"></a> 〇、魔术方法定义</h2><ul><li>在python语法中，往往你会看到有的名称前面和后面都加上了双下划线，由这些名字组成的集合所包含的方法就叫做<strong>魔法方法</strong>，也叫做特殊方法。</li><li>python的魔术方法非常强大，然而随之而来的则是责任。了解正确的方法去使用非常重要！</li></ul><h2 id="一-总述"><a class="markdownIt-Anchor" href="#一-总述"></a> 一、总述</h2><h3 id="1-class类的老大哥-__new__"><a class="markdownIt-Anchor" href="#1-class类的老大哥-__new__"></a> 1、class类的老大哥 <code>__new__</code></h3><ul><li>之所以称之为老大哥，是因为 <code>__new__</code> 在类执行时第一个被调用，而不是 <code>__init__</code></li><li>如果 <code>__new__</code> 返回值为None，那么 <code>__init__</code> 根本不会被调用。</li><li>举个例子</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">"__new__方法被执行"</span>)</span><br><span class="line">        <span class="keyword">return</span> super().__new__(cls)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__init__方法被执行"</span>)</span><br><span class="line"> </span><br><span class="line">a = A()</span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__new__方法被执行</span><br><span class="line">__init__方法被执行</span><br></pre></td></tr></table></figure><h3 id="2-实例销毁-__del__"><a class="markdownIt-Anchor" href="#2-实例销毁-__del__"></a> 2、实例销毁： <code>__del__</code></h3><p><code>__del__(self)</code> ：当一个实例被销毁的时候调用的方法</p><h3 id="3-类语法糖-__call__"><a class="markdownIt-Anchor" href="#3-类语法糖-__call__"></a> 3、类语法糖： <code>__call__</code></h3><p><code>__call__(self[, args...])</code> 允许一个类的实例像函数一样被调用： <code>x(a, b)</code> 调用 <code>x.__call__(a, b)</code></p><h4 id="31-演示代码"><a class="markdownIt-Anchor" href="#31-演示代码"></a> 3.1、演示代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        print(<span class="string">f"<span class="subst">&#123;name&#125;</span>被创造出来了了"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, *args, **kwargs)</span>:</span></span><br><span class="line">        <span class="string">"""允许一个类的实例像函数一样被调用"""</span></span><br><span class="line">        print(<span class="string">f"<span class="subst">&#123;self.name&#125;</span>打了个响指，一共<span class="subst">&#123;len(args)&#125;</span>名超级英雄消失，他们分别是<span class="subst">&#123;<span class="string">'、'</span>.join(args)&#125;</span>等。"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""程序结束(销毁)后，会自动执行"""</span></span><br><span class="line">        print(<span class="string">f"<span class="subst">&#123;self.name&#125;</span>被销毁了"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = A(<span class="string">"灭霸"</span>)</span><br><span class="line">    a(<span class="string">"蜘蛛侠"</span>, <span class="string">"幻世"</span>, <span class="string">"黑豹"</span>, <span class="string">"奇异博士"</span>)</span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">灭霸被创造出来了了</span><br><span class="line">灭霸打了个响指，一共4名超级英雄消失，他们分别是蜘蛛侠、幻世、黑豹、奇异博士等。</span><br><span class="line">灭霸被销毁了</span><br></pre></td></tr></table></figure><h2 id="二-调用系统方法"><a class="markdownIt-Anchor" href="#二-调用系统方法"></a> 二、调用系统方法</h2><table><thead><tr><th>语法</th><th>说明</th><th>符号</th></tr></thead><tbody><tr><td><code>__len__(self)</code></td><td>定义当被 <code>len</code> 调用时的行为</td><td>len()</td></tr><tr><td><code>__repr__(self)</code></td><td>定义当被 <code>repr</code> 调用时的行为</td><td>repr()</td></tr><tr><td><code>__str__(self)</code></td><td>定义当被 <code>str</code> 调用时的行为</td><td>str()</td></tr><tr><td><code>__bytes__(self)</code></td><td>定义当被 <code>bytes</code> 调用时的行为</td><td>bytes()</td></tr><tr><td><code>__hash__(self)</code></td><td>定义当被 <code>hash</code> 调用时的行为</td><td>hash()</td></tr><tr><td><code>__bool__(self)</code></td><td>定义当被 <code>bool</code> 调用时的行为</td><td>bool()</td></tr><tr><td><code>__format__(self, format_spec)</code></td><td>定义当被 <code>format</code> 调用时的行为</td><td>format()</td></tr></tbody></table><h3 id="1-__repr__-和-__str__-的区别"><a class="markdownIt-Anchor" href="#1-__repr__-和-__str__-的区别"></a> 1、 <code>__repr__</code> 和 <code>__str__</code> 的区别</h3><ol><li><p>当一个类中没有使用 <code>__repr__</code> 和 <code>__str__</code> 这两个魔法函数， <code>print()</code> 直接打印实例会返回类名和内存地址</p></li><li><p><code>__repr__</code> 和 <code>__str__</code> 这两个方法都是用于显示的， <code>__str__</code> 是面向用户的，而 <code>__repr__</code> 面向程序员。</p></li><li><p>打印操作会首先尝试 <code>__str__</code> ，它通常应该返回一个友好的显示。</p></li><li><p>在交互环境下， <code>__repr__</code> 会生效，而 <code>__str__</code> 不会起作用。直接执行实例变量名即可打印，无需 <code>print()</code> 。</p></li></ol><h3 id="2-参考代码"><a class="markdownIt-Anchor" href="#2-参考代码"></a> 2、参考代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""对照组：没有使用__str__，打印结果为类型名及其内存地址"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, info)</span>:</span></span><br><span class="line">        self.info = info</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""标准组：使用__str__了，打印结果为__str__魔法函数的返回值"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, info)</span>:</span></span><br><span class="line">        self.info = info</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.info + <span class="string">f"我是<span class="subst">&#123;__class__.__name__&#125;</span>类，我用了__str__的魔法函数，真香！"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    demo_message = <span class="string">"真氪金定律：程序员的能力与发量成反比！快拔头发吧！"</span></span><br><span class="line">    a = A(demo_message)</span><br><span class="line">    b = B(demo_message)</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br></pre></td></tr></table></figure><p>显示结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.A object at 0x1097bf438&gt;</span><br><span class="line">真氪金定律：程序员的能力与发量成反比！快拔头发吧！我是B类，我用了__str__的魔法函数，真香！</span><br></pre></td></tr></table></figure><h4 id="21-什么是交互环境"><a class="markdownIt-Anchor" href="#21-什么是交互环境"></a> 2.1、什么是交互环境</h4><blockquote><p>交互环境的典型特点是写完一行，执行一行。非交互环境要一次执行所有程序</p></blockquote><ol><li>直接在Terminal中启动python，就是交互环境</li><li>Jupyter Notebook和Lab都是交互环境</li><li>Pycharm中的python Console是交互环境</li><li>Anaconda Spyder中提供的Console也是交互环境</li></ol><h4 id="22-在交互环境中-__repr__-和-__str__"><a class="markdownIt-Anchor" href="#22-在交互环境中-__repr__-和-__str__"></a> 2.2、在交互环境中 <code>__repr__</code> 和 <code>__str__</code></h4><p>代码如下：</p><p><img alt="交互环境下，结果完全不同" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191027143452.png" class="lozad"></p><ul><li>可以看出，5行中直接执行 <code>a</code> 因为定义了 <code>__repr__</code> ，在交互环境下是可以正确显示的；</li><li>而在7行中，直接执行 <code>b</code> 是无法正确显示的。</li></ul><h2 id="三-有关属性"><a class="markdownIt-Anchor" href="#三-有关属性"></a> 三、有关属性</h2><table><thead><tr><th>语法</th><th>说明</th></tr></thead><tbody><tr><td><code>__getattr__(self, name)</code></td><td>定义当用户试图获取一个不存在的属性时的行为</td></tr><tr><td><code>__getattribute__(self, name)</code></td><td>定义当该类的属性被访问时的行为</td></tr><tr><td><code>__setattr__(self, name, value)</code></td><td>定义当一个属性被设置时的行为</td></tr><tr><td><code>__delattr__(self, name)</code></td><td>定义当一个属性被删除时的行为</td></tr><tr><td><code>__dir__(self)</code></td><td>定义当 dir() 被调用时的行为</td></tr><tr><td><code>__get__(self, instance, owner)</code></td><td>定义当描述符的值被取得时的行为</td></tr><tr><td><code>__set__(self, instance, value)</code></td><td>定义当描述符的值被改变时的行为</td></tr><tr><td><code>__delete__(self, instance)</code></td><td>定义当描述符的值被删除时的行为</td></tr></tbody></table><h3 id="1-__getattr__-和-__setattr__-存在的问题"><a class="markdownIt-Anchor" href="#1-__getattr__-和-__setattr__-存在的问题"></a> 1、 <code>__getattr__</code> 和 <code>__setattr__</code> 存在的问题</h3><ul><li><code>__getattr__</code> 和 <code>__setattr__</code> 这两个方法 <code>__init__</code> 中变量赋值事，就会默认被创建。</li><li>举个例子：传统赋值方式是 <code>self.a=&quot;a&quot;</code> ， <code>__getattr__</code> 和 <code>__setattr__</code> 就会默认创建出来。</li><li>所以当在 <code>__getattr__</code> 中使用 <code>getattr()</code> 或者 <code>self.xxx</code> , 程序会陷入无限递归。</li><li>防止递归解决方式有两种，但原理相同。使用超类赋值或者通过超类进行访问<ol><li>超类赋值(新式类)：super().<strong>setattr</strong>(“xxx”, xxx)</li><li>超类访问(新式类)：super().<strong>getattr</strong>(“xxx”)</li></ol></li></ul><h3 id="2-演示代码"><a class="markdownIt-Anchor" href="#2-演示代码"></a> 2、演示代码</h3><blockquote><p>代码功能：伪造一个类，使其具有与 <code>dict</code> 类型变量相同的功能；<br>同时，该类还具备通过’点’来访问dict的方法</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""伪造字典"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **kwargs)</span>:</span></span><br><span class="line">        super().__setattr__(<span class="string">"dict_like"</span>, kwargs)  <span class="comment"># 超类赋值，防止递归</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        <span class="string">"""可以调用dict类的系统方法"""</span></span><br><span class="line">        print(<span class="string">"__getattr__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">if</span> name <span class="keyword">in</span> self.dict_like:</span><br><span class="line">            print(<span class="string">f"\t访问<span class="subst">&#123;name&#125;</span>变量"</span>, end=<span class="string">""</span>)</span><br><span class="line">            <span class="keyword">return</span> self.dict_like[name]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">f"\t访问<span class="subst">&#123;name&#125;</span>方法"</span>, end=<span class="string">""</span>)</span><br><span class="line">            <span class="keyword">return</span> getattr(self.dict_like, name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, key, value)</span>:</span></span><br><span class="line">        <span class="string">"""可以通过'点'的方式，设置字典内容"""</span></span><br><span class="line">        print(<span class="string">"__setattr__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.dict_like[key] = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delattr__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        print(<span class="string">"__delattr__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">del</span> self.dict_like[item]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__len__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">return</span> len(self.dict_like)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__str__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        <span class="keyword">return</span> str(self.dict_like)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = A(a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>, d=<span class="number">4</span>, e=<span class="number">5</span>, f=<span class="number">6</span>, g=<span class="number">7</span>)  <span class="comment"># 实例化</span></span><br><span class="line">    print(a)  <span class="comment"># 打印</span></span><br><span class="line">    print(len(a))  <span class="comment"># 获取长度</span></span><br><span class="line">    a.h = <span class="number">8</span>  <span class="comment"># 字典赋值</span></span><br><span class="line">    print(a)  <span class="comment"># 打印赋值结果</span></span><br><span class="line">    print(<span class="string">"\t|\t访问b元素："</span>, a.b)  <span class="comment"># 访问b元素</span></span><br><span class="line">    print(list(a.items()))  <span class="comment"># 调用dict的系统方法</span></span><br><span class="line">    <span class="keyword">del</span> a.f  <span class="comment"># 删除字典元素</span></span><br><span class="line">    print(a)  <span class="comment"># 打印删除后的结果</span></span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__str__被执行：&#123;<span class="string">'a'</span>: 1, <span class="string">'b'</span>: 2, <span class="string">'c'</span>: 3, <span class="string">'d'</span>: 4, <span class="string">'e'</span>: 5, <span class="string">'f'</span>: 6, <span class="string">'g'</span>: 7&#125;</span><br><span class="line">__len__被执行：7</span><br><span class="line">__setattr__被执行：__str__被执行：&#123;<span class="string">'a'</span>: 1, <span class="string">'b'</span>: 2, <span class="string">'c'</span>: 3, <span class="string">'d'</span>: 4, <span class="string">'e'</span>: 5, <span class="string">'f'</span>: 6, <span class="string">'g'</span>: 7, <span class="string">'h'</span>: 8&#125;</span><br><span class="line">__getattr__被执行：访问b变量 | 访问b元素： 2</span><br><span class="line">__getattr__被执行：访问items方法[(<span class="string">'a'</span>, 1), (<span class="string">'b'</span>, 2), (<span class="string">'c'</span>, 3), (<span class="string">'d'</span>, 4), (<span class="string">'e'</span>, 5), (<span class="string">'f'</span>, 6), (<span class="string">'g'</span>, 7), (<span class="string">'h'</span>, 8)]</span><br><span class="line">__delattr__被执行：__str__被执行：&#123;<span class="string">'a'</span>: 1, <span class="string">'b'</span>: 2, <span class="string">'c'</span>: 3, <span class="string">'d'</span>: 4, <span class="string">'e'</span>: 5, <span class="string">'g'</span>: 7, <span class="string">'h'</span>: 8&#125;</span><br></pre></td></tr></table></figure><h2 id="四-比较操作符"><a class="markdownIt-Anchor" href="#四-比较操作符"></a> 四、比较操作符</h2><table><thead><tr><th>语法</th><th>说明</th><th>符号</th></tr></thead><tbody><tr><td><code>__lt__(self, other)</code></td><td>定义小于号的行为</td><td>x &lt; y</td></tr><tr><td><code>__le__(self, other)</code></td><td>定义小于等于号的行为</td><td>x &lt;= y</td></tr><tr><td><code>__eq__(self, other)</code></td><td>定义等于号的行为</td><td>x == y</td></tr><tr><td><code>__ne__(self, other)</code></td><td>定义不等号的行为</td><td>x != y</td></tr><tr><td><code>__gt__(self, other)</code></td><td>定义大于号的行为</td><td>x &gt; y</td></tr><tr><td><code>__ge__(self, other)</code></td><td>定义大于等于号的行为</td><td>x &gt;= y</td></tr></tbody></table><h2 id="五-算数运算符"><a class="markdownIt-Anchor" href="#五-算数运算符"></a> 五、算数运算符</h2><p>可以让类使用算数预算符进行操作</p><h3 id="1-标准运算符"><a class="markdownIt-Anchor" href="#1-标准运算符"></a> 1、标准运算符</h3><table><thead><tr><th>说明</th><th>代码</th><th style="text-align:center">符号</th><th style="text-align:center">反运算</th><th style="text-align:center">增强运算</th></tr></thead><tbody><tr><td>加法</td><td><code>__add__(self, other)</code></td><td style="text-align:center">+</td><td style="text-align:center">√</td><td style="text-align:center">+=</td></tr><tr><td>减法</td><td><code>__sub__(self, other)</code></td><td style="text-align:center">-</td><td style="text-align:center">√</td><td style="text-align:center">-=</td></tr><tr><td>乘法</td><td><code>__mul__(self, other)</code></td><td style="text-align:center">*</td><td style="text-align:center">√</td><td style="text-align:center">*=</td></tr><tr><td>除法</td><td><code>__truediv__(self, other)</code></td><td style="text-align:center">/</td><td style="text-align:center">√</td><td style="text-align:center">/=</td></tr><tr><td>整除</td><td><code>__floordiv__(self, other)</code></td><td style="text-align:center">//</td><td style="text-align:center">√</td><td style="text-align:center">//=</td></tr><tr><td>模运算</td><td><code>__mod__(self, other)</code></td><td style="text-align:center">%</td><td style="text-align:center">√</td><td style="text-align:center">%=</td></tr><tr><td>divmod操作</td><td><code>__divmod__(self, other)</code></td><td style="text-align:center">divmod()</td><td style="text-align:center">√</td><td style="text-align:center">无</td></tr><tr><td>次方</td><td><code>__pow__(self, other[, modulo])</code></td><td style="text-align:center">power()或 **</td><td style="text-align:center">√</td><td style="text-align:center">**=</td></tr><tr><td>左位移</td><td><code>__lshift__(self, other)</code></td><td style="text-align:center">&lt;&lt;</td><td style="text-align:center">√</td><td style="text-align:center">&lt;&lt;=</td></tr><tr><td>右位移</td><td><code>__rshift__(self, other)</code></td><td style="text-align:center">&gt;&gt;</td><td style="text-align:center">√</td><td style="text-align:center">&gt;&gt;=</td></tr><tr><td>按位与</td><td><code>__and__(self, other)</code></td><td style="text-align:center">&amp;</td><td style="text-align:center">√</td><td style="text-align:center">&amp;=</td></tr><tr><td>按位异或</td><td><code>__xor__(self, other)</code></td><td style="text-align:center">^</td><td style="text-align:center">√</td><td style="text-align:center">^=</td></tr><tr><td>按位或</td><td><code>__or__(self, other)</code></td><td style="text-align:center"><code>|</code></td><td style="text-align:center">√</td><td style="text-align:center"><code>|=</code></td></tr></tbody></table><h3 id="2-反运算"><a class="markdownIt-Anchor" href="#2-反运算"></a> 2、反运算</h3><ul><li>在标准运算符的前面加上“r”就是反运算</li><li>假设 <code>a</code> 和 <code>b</code> 是两个实例，就a而言， <code>a+b</code> 为标准预算，因为 <code>a</code> 在前边； <code>b+a</code> 就是反运算，因为 <code>a</code> 在后面。</li><li>如果 <code>a</code> 想使用反运算，就需要定义 <code>__radd__</code> ，</li></ul><h3 id="3-增量赋值运算"><a class="markdownIt-Anchor" href="#3-增量赋值运算"></a> 3、增量赋值运算</h3><ul><li>在标准运算符的前面加上“i”就是增量赋值运算</li></ul><h3 id="4-代码实例"><a class="markdownIt-Anchor" href="#4-代码实例"></a> 4、代码实例</h3><h4 id="41-3种运算符的区别"><a class="markdownIt-Anchor" href="#41-3种运算符的区别"></a> 4.1、3种运算符的区别</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"A：加法的标准运算"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__radd__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"A：加法的反运算"</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iadd__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"A：加法的增强赋值运算"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">a=A()</span><br><span class="line">b=B()</span><br><span class="line">a+b</span><br><span class="line">b+a</span><br><span class="line">a+=b</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A：加法的标准运算</span><br><span class="line">A：加法的反运算</span><br><span class="line">A：加法的增强赋值运算</span><br></pre></td></tr></table></figure><h4 id="42-伪造list类使其具备运算符功能"><a class="markdownIt-Anchor" href="#42-伪造list类使其具备运算符功能"></a> 4.2、伪造list类，使其具备运算符功能</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""伪造list，通过运算符号，完成增减数据"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        self.list_like = list(args)  <span class="comment"># args默认为元组类型，需要转换成为list</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"__add__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like.append(other)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__radd__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"__radd__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like = [other] + self.list_like</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iadd__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"__iadd__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like.append(other)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__mul__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"__mul__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like = list(map(<span class="keyword">lambda</span> x: x * other, self.list_like))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.list_like)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.list_like)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = A(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">    a = a + <span class="number">10</span>  <span class="comment"># 向list中最后一位添加数据10</span></span><br><span class="line">    print(a)</span><br><span class="line">    a = <span class="number">0</span> + a  <span class="comment"># 向list中第一位添加数据0</span></span><br><span class="line">    print(a)</span><br><span class="line">    a += <span class="number">100</span>  <span class="comment"># 向list中最后一位添加数据100</span></span><br><span class="line">    print(a)</span><br><span class="line">    a = a * <span class="number">6</span>  <span class="comment"># 向list中每一位乘以6</span></span><br><span class="line">    print(a)</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__add__被执行：[1, 2, 3, 5, 6, 7, 10]</span><br><span class="line">__radd__被执行：[0, 1, 2, 3, 5, 6, 7, 10]</span><br><span class="line">__iadd__被执行：[0, 1, 2, 3, 5, 6, 7, 10, 100]</span><br><span class="line">__mul__被执行：[0, 6, 12, 18, 30, 36, 42, 60, 600]</span><br></pre></td></tr></table></figure><h2 id="六-一元操作符"><a class="markdownIt-Anchor" href="#六-一元操作符"></a> 六、一元操作符</h2><table><thead><tr><th>语法</th><th>说明</th><th style="text-align:center">符号</th></tr></thead><tbody><tr><td><code>__neg__(self)</code></td><td>定义正号的行为</td><td style="text-align:center">-x</td></tr><tr><td><code>__pos__(self)</code></td><td>定义负号的行为</td><td style="text-align:center">+x</td></tr><tr><td><code>__abs__(self)</code></td><td>定义绝对值的行为</td><td style="text-align:center">abs()</td></tr><tr><td><code>__invert__(self)</code></td><td>定义按位求反的行为</td><td style="text-align:center">~x</td></tr></tbody></table><h3 id="1-示例代码"><a class="markdownIt-Anchor" href="#1-示例代码"></a> 1、示例代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""伪造list，具备算法运算符功能"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        self.list_like = list(args)  <span class="comment"># args默认为元组类型，需要转换成为list</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__neg__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__neg__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like = list(map(<span class="keyword">lambda</span> x: -x, self.list_like))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__abs__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__abs__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like = list(map(<span class="keyword">lambda</span> x: abs(x), self.list_like))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__invert__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__invert__被执行："</span>, end=<span class="string">""</span>)</span><br><span class="line">        self.list_like = list(map(<span class="keyword">lambda</span> x: ~x, self.list_like))</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.list_like)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.list_like)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = A(<span class="number">5</span>, <span class="number">3</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">60</span>, <span class="number">3</span>)</span><br><span class="line">    a = -a  <span class="comment"># 对list中每一位数据取负值</span></span><br><span class="line">    print(a)</span><br><span class="line">    a = abs(a)  <span class="comment"># 对list中每一位数据绝对值</span></span><br><span class="line">    print(a)</span><br><span class="line">    a = ~a  <span class="comment"># 对list中每一位数据取反</span></span><br><span class="line">    print(a)</span><br></pre></td></tr></table></figure><p>输出结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">__neg__被执行：[<span class="number">-5</span>, <span class="number">-3</span>, <span class="number">-16</span>, <span class="number">-14</span>, <span class="number">-60</span>, <span class="number">-3</span>]</span><br><span class="line">__abs__被执行：[<span class="number">5</span>, <span class="number">3</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">60</span>, <span class="number">3</span>]</span><br><span class="line">__invert__被执行：[<span class="number">-6</span>, <span class="number">-4</span>, <span class="number">-17</span>, <span class="number">-15</span>, <span class="number">-61</span>, <span class="number">-4</span>]</span><br></pre></td></tr></table></figure><h2 id="七-类型转换"><a class="markdownIt-Anchor" href="#七-类型转换"></a> 七、类型转换</h2><table><thead><tr><th>语法</th><th>说明</th></tr></thead><tbody><tr><td><code>__complex__(self)</code></td><td>定义当被 complex() 调用时的行为（需要返回恰当的值）</td></tr><tr><td><code>__int__(self)</code></td><td>定义当被 int() 调用时的行为（需要返回恰当的值）</td></tr><tr><td><code>__float__(self)</code></td><td>定义当被 float() 调用时的行为（需要返回恰当的值）</td></tr><tr><td><code>__round__(self[, n])</code></td><td>定义当被 round() 调用时的行为（需要返回恰当的值）</td></tr><tr><td><code>__index__(self)</code></td><td>当对象是被应用在切片表达式中时，实现整形强制转换；如果你定义了一个可能在切片时用到的定制的数值型, 你应该定义 index。如果 index 被定义，则 int 也需要被定义，且返回相同的值</td></tr></tbody></table><h2 id="八-上下文管理with-语句"><a class="markdownIt-Anchor" href="#八-上下文管理with-语句"></a> 八、上下文管理（with 语句）</h2><p>演示代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">"./1.txt"</span>,<span class="string">"r"</span>,encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data=f.readlines()</span><br></pre></td></tr></table></figure><table><thead><tr><th>语法</th><th>说明</th></tr></thead><tbody><tr><td><code>__enter__</code></td><td>1. 定义当使用 with 语句时的初始化行为;<br>2. <code>__enter__</code> 的返回值被 with 语句的目标或者 as 后的名字绑定</td></tr><tr><td><code>__exit__</code></td><td>1. 定义当一个代码块被执行或者终止后上下文管理器应该做什么<br>2. 一般被用来处理异常，清除工作或者做一些代码块执行完毕之后的日常工作</td></tr></tbody></table><h2 id="九-容器类型"><a class="markdownIt-Anchor" href="#九-容器类型"></a> 九、容器类型</h2><table><thead><tr><th>语法</th><th>说明</th></tr></thead><tbody><tr><td><code>__len__(self)</code></td><td>定义当被 len() 调用时的行为（返回容器中元素的个数）</td></tr><tr><td><code>__getitem__(self, key)</code></td><td>定义获取容器中指定元素的行为，相当于 self[key]</td></tr><tr><td><code>__setitem__(self, key, value)</code></td><td>定义设置容器中指定元素的行为，相当于 self[key] = value</td></tr><tr><td><code>__delitem__(self, key)</code></td><td>定义删除容器中指定元素的行为，相当于 del self[key]</td></tr><tr><td><code>__iter__(self)</code></td><td>定义当迭代容器中的元素的行为</td></tr><tr><td><code>__reversed__(self)</code></td><td>定义当被 reversed() 调用时的行为</td></tr><tr><td><code>__contains__(self, item)</code></td><td>定义当使用成员测试运算符（ <code>in</code> 或 <code>not in</code> ）时的行为</td></tr></tbody></table><h3 id="1-示例代码-2"><a class="markdownIt-Anchor" href="#1-示例代码-2"></a> 1、 示例代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Avenger</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""复仇者联盟"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **kwargs)</span>:</span></span><br><span class="line">        self.members = kwargs</span><br><span class="line">        self.names = list(kwargs.keys())</span><br><span class="line">        self.index = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        fighting_num = self.members[item]</span><br><span class="line">        print(<span class="string">"__getitem__被执行："</span>, <span class="string">f"正在读取复仇者【<span class="subst">&#123;item&#125;</span>】的信息，其战斗力为<span class="subst">&#123;fighting_num&#125;</span>"</span>)</span><br><span class="line">        <span class="keyword">return</span> fighting_num</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self, key, value)</span>:</span></span><br><span class="line">        print(<span class="string">"__setitem__被执行："</span>, <span class="string">f"新增复仇者【<span class="subst">&#123;key&#125;</span>】，其战斗力为<span class="subst">&#123;value&#125;</span>"</span>)</span><br><span class="line">        self.members[<span class="string">"key"</span>] = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delitem__</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        print(<span class="string">"__delitem__被执行："</span>, <span class="string">f"复仇者【<span class="subst">&#123;key&#125;</span>】已阵亡！"</span>)</span><br><span class="line">        <span class="keyword">del</span> self.members[<span class="string">"key"</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"__iter__被执行"</span>)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.index == len(self.names) - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.names[self.index]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__gt__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        print(<span class="string">"__gt__被执行"</span>, <span class="string">f"战斗力大于60的复仇者：<span class="subst">&#123;other&#125;</span>"</span>)</span><br><span class="line">        members = filter(<span class="keyword">lambda</span> x: x[<span class="number">-1</span>] &gt; other, self.members.items())</span><br><span class="line">        <span class="keyword">return</span> list(members)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.members)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        power_info = map(<span class="keyword">lambda</span> x: <span class="string">"&#123;0&#125;的战斗力为 &#123;1&#125;"</span>.format(*x), self.members.items())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"\n"</span>.join(power_info)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    a = Avenger(钢铁侠=<span class="number">106</span>, 雷神=<span class="number">110</span>, 浩克=<span class="number">120</span>, 奇异博士=<span class="number">90</span>, 蜘蛛侠=<span class="number">80</span>, 美国队长=<span class="number">50</span>, 幻世=<span class="number">60</span>)</span><br><span class="line">    print(len(a))</span><br><span class="line">    print(<span class="string">f"======== 雷神的战斗力：<span class="subst">&#123;a[<span class="string">'雷神'</span>]&#125;</span> ========"</span>)</span><br><span class="line">    a[<span class="string">"古鲁姆"</span>] = <span class="number">15.6</span></span><br><span class="line">    <span class="keyword">del</span> a[<span class="string">"幻世"</span>]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">        print(i)</span><br><span class="line">    print(a &gt; <span class="number">60</span>)</span><br></pre></td></tr></table></figure><p>结果如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">__getitem__被执行： 正在读取复仇者【雷神】的信息，其战斗力为110</span><br><span class="line">======== 雷神的战斗力：110 ========</span><br><span class="line">__setitem__被执行： 新增复仇者【古鲁姆】，其战斗力为15.6</span><br><span class="line">__delitem__被执行： 复仇者【幻世】已阵亡！</span><br><span class="line">__iter__被执行</span><br><span class="line">雷神</span><br><span class="line">浩克</span><br><span class="line">奇异博士</span><br><span class="line">蜘蛛侠</span><br><span class="line">美国队长</span><br><span class="line">幻世</span><br><span class="line">__gt__被执行 战斗力大于60的复仇者：60</span><br><span class="line">[(<span class="string">'钢铁侠'</span>, 106), (<span class="string">'雷神'</span>, 110), (<span class="string">'浩克'</span>, 120), (<span class="string">'奇异博士'</span>, 90), (<span class="string">'蜘蛛侠'</span>, 80)]</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Haibei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://hezhefly.gitee.io/blog/posts/3165833207.html">https://hezhefly.gitee.io/blog/posts/3165833207.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://hezhefly.gitee.io/blog">Haibei的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/python/">python </a><a class="post-meta__tags" href="/blog/tags/魔法函数/">魔法函数</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191026231051.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/config/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/config/alipay.jpg"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/blog/posts/277300404.html"><img class="prev_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20190911091721.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">上一篇</div><div class="prev_info"><span>【配置】pip更换国内源的方法</span></div></a></div><div class="next-post pull-right"><a href="/blog/posts/2221080880.html"><img class="next_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191026224840.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">下一篇</div><div class="next_info"><span>【得到】《原生家庭》| 苏珊·福沃德</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/blog/posts/150817116.html" title="Notebook无法加载flags"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20190909232024.png"><div class="relatedPosts_title">Notebook无法加载flags</div></a></div><div class="relatedPosts_item"><a href="/blog/posts/3828475579.html" title="【技术】新世界的大门：将python程序变为系统脚本命令"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191029231027.png"><div class="relatedPosts_title">【技术】新世界的大门：将python程序变为系统脚本命令</div></a></div><div class="relatedPosts_item"><a href="/blog/posts/3851118542.html" title="【模块】collections，提供多种数据集合"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/banner/1567954264.jpg"><div class="relatedPosts_title">【模块】collections，提供多种数据集合</div></a></div><div class="relatedPosts_item"><a href="/blog/posts/1807817678.html" title="【模块】Logbook：logging的高级封装版"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/banner/1567954264.jpg"><div class="relatedPosts_title">【模块】Logbook：logging的高级封装版</div></a></div><div class="relatedPosts_item"><a href="/blog/posts/910707058.html" title="【爬虫】Xpath语法解析"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191015230841.png"><div class="relatedPosts_title">【爬虫】Xpath语法解析</div></a></div><div class="relatedPosts_item"><a href="/blog/posts/3236042050.html" title="【脚本】python解析搜狗词库"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/hezhefly/CDN/img/20191021231320.png"><div class="relatedPosts_title">【脚本】python解析搜狗词库</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify=!0,verify=!0,GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)});guest_info=0==guest_info.length?GUEST_INFO:guest_info,window.valine=new Valine({el:"#vcomment",notify:notify,verify:verify,appId:"2NfA6GPtidEQdkETSxw1syUR-gzGzoHsz",appKey:"gJ766ohAmwrU0s1KwSJNwdPG",placeholder:"Please leave your footprints",avatar:"monsterid",guest_info:guest_info,pageSize:"10",lang:"zh-cn",recordIP:!0})</script></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2019 By Haibei</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script async src="/blog/js/search/algolia.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function(){$("span.katex-display").wrap('<div class="katex-wrap"></div>')})</script><script src="/blog/js/nightshift.js"></script><script color="0,0,255" opacity="0.7" zindex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/blog/js/activate-power-mode.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script><script src="/blog/js/tw_cn.js"></script><script>translateInitilization()</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>